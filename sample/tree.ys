#!/usr/bin/env ys-0

defn main(&[width]):
  say:
    tree: width || 5

defn tree(width):
  stars =:  \(inc(%) * "*")
  spaces =: \(% * " ")
  top =:
    join:
      map:
        \(line width, %): (width..1)

  =>: top + (trunk(width) * 2)

defn trunk(num):  spaces(num) + "*\n"

defn line(width, num):
  ( spaces(num)
  + stars(((width - num) * 2))
  + "\n")
